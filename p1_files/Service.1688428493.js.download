function Pagination(t,e,n,i,o){var a,s,r,c=$("#"+t),l="\n\t\t<div class='btn-group rolia-pagination'>\n\t\t\t<span class='pg-first btn btn-default'>1</span>\n\t\t\t<span class='pg-prev btn btn-default'>2</span>\n\t\t\t<span class='pg-curr btn btn-primary disabled'>3</span>\n\t\t\t<span class='pg-next btn btn-default'>4</span>\n\t\t\t<span class='pg-last btn btn-default'>5</span>\n\t\t</div>\n    ",d=(t,e,n)=>{""==e?t.hide():t.html(e).data("page-no",n).show()},h=t=>{(t=>{const e=c;d(e.find(".pg-curr"),"ðŸ“‘ "+t,t),d(e.find(".pg-first"),t>1?"1":"",1),d(e.find(".pg-prev"),t>2?3==t?"2":"<":"",t-1),d(e.find(".pg-next"),t<r-1?t==r-2?r-1:">":"",t+1),d(e.find(".pg-last"),t<r?r:"",r)})(t);var e="",o=t*n;for(let a=(t-1)*n;a<o;a++)s[a]&&(e+=nano(i,s[a]));c.find(".paginated-contents").html(e);const a=c.find(".pagination-top");isElementInViewport(a)||(a.get(0).scrollIntoView(),window.scrollBy(0,-40))},p=()=>{fetch(e).then((async t=>{if(!t.ok)throw new Error(t.statusText);var e={done:!1};t.json().then((t=>{a=(s=t).length,r=Math.ceil(a/n)})).then((()=>{r>1&&c.find(".rolia-pagination").show(),a>0?h(1):(c.find(".paginated-contents").html("There is no applicable records to display here."),c.find(".rolia-pagination").hide()),e.done=!0})),await waitFor(e)})).catch((t=>{toastr.error(t.message),c.find(".rolia-pagination").hide(),c.find(".paginated-contents").html(t.message)})).finally((()=>{o&&o()}))},u=()=>{c.on("click",".rolia-pagination>span:not([class*='disabled'])",(function(t){const e=$(this).data("page-no");h(e)}))};this.reload=function(t){e=t,p()},c.html("\n\t\t<div class=pagination-top></div>\n\t\t<div class=paginated-contents style='margin:1em 0;'>\n            <i class=\"fa fa-spinner fa-spin fa-3x fa-fw\"></i>\n        </div>\n\t\t<div class=pagination-bottom></div>\n    "),c.find(".pagination-top").html(l),c.find(".pagination-bottom").html(l),c.find(".rolia-pagination").hide(),p(),u()}function CircularProgressBar(t,e){const n=parseInt(100.48),i=parseInt(n/4),o=$(`\n\t\t<svg width="36" height="36" viewBox="0 0 36 36">\n\t\t\t<circle cx="18" cy="18" r="16" stroke-dasharray="0 ${n}"\n\t\t\t\tstyle="fill: #e0e0e0; stroke: rgb(0, 127, 0); stroke-width: 4; stroke-dashoffset: ${i};"></circle>\n\t\t\t<text x="8" y="26" fill="black" style="font-family: FontAwesome;">&#x${t}</text>\n\t\t</svg>\n\t`);$(e).append(o);const a=o.find("circle"),s=o.find("text");let r=0;this.hide=()=>{o.hide()},this.show=()=>{o.show()},this.done=()=>{o.fadeOut(500)},this.error=()=>{s.attr("fill","red"),o.fadeOut(2e3)},this.getValue=()=>r,this.setValue=t=>{if(o.show(),t=Math.abs(parseInt(t)),!isNaN(t)){t>100&&(t%=100),r=t;let e=parseInt(t*n/100);a.css("stroke","#ff0000"),100==t&&a.css("stroke","#007f00"),a.attr("stroke-dasharray",e+" "+(n-e))}},o.hide()}Service=t=>{};class Draggable{}PageDownButton=function(){var t=new function(){if(!isLocal()&&!is_touch_device())return null;var t="0px",e="20px",n=getCookie("pdbPos");n&&(t=n.split(",")[0],e=n.split(",")[1]),$("body").prepend('<i class="floatButton pageDown fa fa-4x fa-arrow-circle-down"></i>');const i=$(".pageDown");return i.css({right:t,bottom:e}),$(document).on("shown.bs.modal",".modal",(t=>{i.hide()})),$(document).on("hidden.bs.modal",".modal",(t=>{i.show()})),$(document).on("shown.bs.dropdown",".dropdown",(t=>{i.hide()})),$(document).on("hidden.bs.dropdown",".dropdown",(t=>{i.show()})),i.get(0)};this.eleDraggable=t,this.funcClick=function(){const t=window.innerHeight?window.innerHeight:document.documentElement.clientHeight||document.body.clientHeight||480;$("html, body").animate({scrollTop:$(window).scrollTop()+t-60},200)},this.funcMoved=function(){const t=$(".pageDown").get(0),e=t.style.right+","+t.style.bottom;setCookie("pdbPos",e,99)}},Service.setupDraggable=function(t){var e=t.eleDraggable;if(!isLocal()&&!is_touch_device())return;const n=e.clientWidth,i=e.clientHeight;var o,a;e.addEventListener("touchstart",(t=>{t.preventDefault(),o=t.touches[0].clientX,a=t.touches[0].clientY,e.classList.remove("moved"),e.classList.add("moving")})),e.addEventListener("touchend",(n=>{n.preventDefault(),e.classList.contains("moved")?t.funcMoved():t.funcClick(),e.classList.remove("moving")})),addEventListener("touchmove",(t=>{if(e.classList.contains("moving")){var s=t.touches[0].clientX,r=t.touches[0].clientY;if(Math.abs(o-s)>5||Math.abs(a-r)>5){e.classList.add("moved");var c=window.innerWidth-s-.15*n,l=window.innerHeight-r-.15*i;l=l>0?l:0,c=(c=c>0?c:0)<window.innerWidth-n?c:window.innerWidth-n,l=l<window.innerHeight-i?l:window.innerHeight-i,e.style.right=c+"px",e.style.bottom=l+"px"}}}))},Service.adjustTabsWidth=function(t){let e=window.innerWidth,n=0;if(t.find(">li:visible").each((function(){n+=$(this).outerWidth(!0)})),n>e){let n=t.find(">li:visible").size(),i=0;t.find(">li:visible>a").each((function(){i+=$(this).width()}));let o=(e-i-2*n)/n/2-3;o=o<0?0:o;let a=o+"px";t.find(">li:visible>a").css("padding-left",a),t.find(">li:visible>a").css("padding-right",a)}},Service.isSignedIn=function(t,e){if(userid)return!0;var n=window.location.pathname,i=window.location.search;switch(t){case"sign-up-blog":window.location="/blog/index.php?toSignUpBlog=1";break;case"new":var o=n+(i?i+"&toPostNew=1":"?toPostNew=1");window.location=o;break;case"reply":o=sprintf("topic.php?toReply=1&f={0}&p={1}",fno,e);if(_isIphone)window.location=o;else if(_isIOS){window.open(o,"_blank").focus()}else{window.open(o,"rolia_topic").focus()}break;default:return toastr.error("Please sign in first."),$("button.signIn").removeClass("btn-default").addClass("btn-danger"),!1}},Service.textareaAdjustFlexHeight=function(t){var e=$(t).data("maxh");if(e=e||$(window).height()/2,t.style.height="auto",t.scrollHeight<e){var n=t.scrollHeight>40?t.scrollHeight:40;t.style.height=n+"px",t.style.overflowY="hidden"}else t.style.height=e+"px",t.style.overflowY="scroll"},Service.signIn=function(){var t=$("#formSignIn"),e=!1,n=t.find("#signonuserid").val().trim(),i=t.find("#signonpassword").val().trim();if(n||(toastr.error("Please enter your ID."),e=!0),i||(toastr.error("Please enter your password."),e=!0),!e){var o=t.serialize();request=$.ajax({url:"/api/v1/ajaxSignIn",type:"POST",data:o}),request.done((function(t,e,n){JSON.parse(t)})),request.fail((function(t,e,n){toastr.error(n)}))}},Service.patchCkeditor=function(){$.fn.modal.Constructor.prototype.enforceFocus=function(){modal_this=this,$(document).on("focusin.modal",(function(t){modal_this.$element[0]===t.target||modal_this.$element.has(t.target).length||$(t.target.parentNode).hasClass("cke_dialog_ui_input_select")||$(t.target.parentNode).hasClass("cke_dialog_ui_input_text")||modal_this.$element.focus()}))}},Service.setupBackButton=function(){var t="#modal";location.hash&&-1!==$.inArray(location.hash,["#dd","#ckeMax"])&&history.replaceState({},document.title,"#"),$(document).on("show.bs.modal",".modal",(function(e){Service.modal=!0,window.history.pushState("modal_in_place",null,t)})),$(document).on("hide.bs.modal",".modal",(function(e){Service.modal=!1,location.hash==t&&(Service.historyBackOnly=!0,window.history.back())}));$(document).on("show.bs.dropdown",".dropdown",(function(t){Service.dd=!0,window.history.pushState("dd_in_place",null,"#dd"),$(".adsbygoogle").css("z-index",1)})),$(document).on("hide.bs.dropdown",".dropdown",(function(t){Service.dd=!1,"#dd"==location.hash&&(Service.historyBackOnly=!0,window.history.back())})),$(window).on("popstate",(function(t){console.log("window.on.popstate"),Service.historyBackOnly?Service.historyBackOnly=!1:Service.ckeMax?CKEDITOR.instances.contents.execCommand("maximize"):Service.modal?((ckeDia=CKEDITOR.dialog.getCurrent())&&ckeDia.hide(),$(".modal.in").modal("hide")):Service.dd&&($(".dropdown.open").removeClass("open"),$(".pageDown").show())}))},Service.linkByJsOnly=function(){$(document).on("click",".sp",(function(t){const e=$(this).data("sp");window.open(`/sp/${e}`,"_blank")})),$(document).on("click",".go-mem-info",(function(t){const e=$(this).html();window.open(`/m/${e}`,"_blank")})),$(document).on("click",".go-pm",(function(t){$(".pmCount").hide(),window.open("/mem/pmConsole.php","_blank")})),isWindowClosable()||$(".close-window").remove(),$(document).on("click",".close-window",(function(t){window.close()})),isWindowClosable()||$(".back-to-home").show(),$(document).on("click",".back-to-home",(function(t){window.open("/","_top")})),$(".help-text").prepend("<i class='fa fa-question-circle'></i>"),$(document).on("click",".help-text>i",(function(t){$(this).siblings("dd").css("display","inline-block"),$(this).hide()}))},Service.helpText=function(){$(".help-text").prepend("<i class='fa fa-question-circle'></i>"),$(document).on("click",".help-text>i",(function(t){$(this).siblings("dd").css("display","inline-block"),$(this).hide()}))},Service.autocompleteUserid=function(){$(".userid-autocomplete-deli").autocomplete({serviceUrl:"/mem/ajaxMem.php?action=idQuery",minChars:1,delimiter:/(,|;)\s*/,maxHeight:400,width:300,zIndex:9999,formatResult:function(t,e){return t.data},deferRequestBy:0,autoSelectFirst:"true",params:{},noCache:!1}),$(".userid-autocomplete").autocomplete({serviceUrl:"/mem/ajaxMem.php?action=idQuery",minChars:1,maxHeight:400,width:300,zIndex:9999,onSelect:function(t){$(this).text(t.value),$(this).closest("form").submit()},formatResult:function(t,e){return t.data},deferRequestBy:100,autoSelectFirst:"true",params:{},noCache:!1}),$(".userid-autocomplete-only").autocomplete({serviceUrl:"/mem/ajaxMem.php?action=idQuery",minChars:1,maxHeight:400,width:300,zIndex:9999,onSelect:function(t){$(this).text(t.value)},formatResult:function(t,e){return t.data},deferRequestBy:100,autoSelectFirst:"true",params:{},noCache:!1})},Service.dd=!1,Service.modal=!1,Service.ckeMax=!1,Service.historyBackOnly=!1,$((function(){Service.patchCkeditor(),Service.setupBackButton(),Service.linkByJsOnly(),Service.autocompleteUserid(),Service.helpText(),Service.setupDraggable(new PageDownButton),$(document).on("input","textarea.flexHeight",(function(t){Service.textareaAdjustFlexHeight(this)})),$('a[target="_blank"]').attr("rel","opener"),$("a").each((function(){var t=$(this).attr("href");"_self"!=$(this).attr("target")&&t&&0===t.indexOf("http")&&-1===t.indexOf(window.location.hostname)&&$(this).attr("target","_blank")}))}));