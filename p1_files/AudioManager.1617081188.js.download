class AudioUI{constructor(){this.file=null,this.sno=null,this.sid=null,this.userFileName=null,this.fileName=null,this.size=null,this.time=null,this.status=null,this.type=null}}AudioManager=function(t,i,e,n,a,l){const o=$("#"+t);var s="READY",d=null;this.init=function(){i(t=>r(t)),o.html(`\n\t\t\t<div class="panel panel-success" id="div-select-audio">\n\t\t\t\t<div class="panel-heading">${roliaMsg.audio.add_audio_to_post}</div>\n\t\t\t\t<div class="panel-body" >\n\t\t\t\t\t<div class='clearfix' id="div-audio-button">\n\t\t\t\t\t\t<input type='file' id='audioFileElem' accept='.mp3,.m4a' style='display: none'>\n\t\t\t\t\t\t<span id='audioFileSelect' class='btn btn-default'>\n\t\t\t\t\t\t\t<i class="fa fa-plus"></i><i class="fa fa-music"></i>\n\t\t\t\t\t\t\t\t${roliaMsg.audio.upload_audio_file}</span>\n\t\t\t\t\t\t<i class="click fa fa-question-circle-o ml10" \n\t\t\t\t\t\tonclick="$(this).closest('.panel').find('.panel-footer').show();$(this).hide()"></i>\n\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="div-audio-file-name"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="panel-footer" style="display:none">\n\t\t\t\t\t${roliaMsg.audio.file_type} .mp3 or .m4a   <br>\n\t\t\t\t\t${roliaMsg.audio.size_limit} 12MB.\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="panel panel-warning" id="div-existing-audio" style="display:none">\n\t\t\t\t<div class="panel-heading">${roliaMsg.audio.unused_uploaded}</div>\n\t\t\t\t<div class="panel-body" id='existing-audio-name'> </div>\n\t\t\t\t<div class="panel-footer">\n\t\t\t\t\t<input type="radio" class="labeled labeled-radio" id="audio-use-now" name="useAudio" value="1" >\n\t\t\t\t\t<label for="audio-use-now">${roliaMsg.audio.use_now}</label>\n\t\t\t\t\t<input type="radio" class="labeled labeled-radio" id="audio-use-later" name="useAudio" value="2" checked>\n\t\t\t\t\t<label for="audio-use-later">${roliaMsg.audio.use_later}</label>\n\t\t\t\t\t<span class="del-audio pull-right btn btn-default">${roliaMsg.audio.delete}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`);const t=o.find("#audioFileElem")[0];o.find("#audioFileSelect").on("click",null,(function(i){return i.preventDefault(),t.click(),!1})),t.addEventListener("change",p,!1),o.on("click",".del-audio",(function(t){n(d,c)})),o.on("click","#audio-use-now",(function(t){a(d.sno)})),o.on("click","#audio-use-later",(function(t){a(null)})),"READY"!=s&&u()};var u=()=>{$("#div-select-audio").hide()},r=t=>{const i=JSON.parse(t);return null!=i&&i.userFileName&&(s="UPLOADED",u(),$("#existing-audio-name").html(i.userFileName),$("#div-existing-audio").show(),d=i),d},c=()=>{d=null,s="READY",$("#div-existing-audio").hide(),$("#div-select-audio").show(),$("#div-audio-button").show()};limit_FileSize=t=>0;handle_File=t=>0;var p=t=>{if(!((t,i)=>{var e=t.target.files[0],n=e.size,a=Math.round(10*n/1024/1024)/10;if(a>i){var l=sprintf("The size of the selected file '{0}' is {1}MB.  It's larger than the limit of {2}MB and cannot be uploaded.",e.name,a,i);return toastr.error(l),!1}return!0})(t,12))return!1;const i=new CircularProgressBar("f001",l);funcOnUploadSuccess=t=>{i.done()},funcOnUploadProgress=t=>{var e=t.position||t.loaded,n=t.totalSize||t.total;let a=parseInt(100*e/n);i.setValue(a)},funcOnUploadError=(t,e)=>{$("#div-audio-button").show(),$("#div-audio-file-name").html(""),i.error(),toastr.error("Audio was not uploaded: "+e,"Network error",{closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!0,onclick:null,showDuration:"0",hideDuration:"0",timeOut:"0",extendedTimeOut:"0",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"hide"})};const n=document.querySelector('input[type="file"][id="audioFileElem"]');(d={}).file=n.files[0],d.userFileName=sanitizeFileName(d.file.name),$("#div-audio-button").hide(),$("#div-audio-file-name").html(d.userFileName),e(d,funcOnUploadSuccess,funcOnUploadProgress,funcOnUploadError)};this.init()};