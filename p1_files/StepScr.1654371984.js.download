StepScr=function(t,n,s,e,i=!1){var a=this,r="<button class='nav-button btn {0}' tabindex='{2}' >{1}</button>",o=i?"":sprintf(r,"prev   btn-info",roliaMsg.step_scr.prev,-1),c=i?"":sprintf(r,"next   btn-info",roliaMsg.step_scr.next,99),p=sprintf(r,"next   btn-success",roliaMsg.step_scr.confirm,99),d=sprintf(r,"return btn-success",roliaMsg.step_scr.return,99),v=sprintf(r,"submit btn-success",roliaMsg.step_scr.submit,9);this.scrKeyToId=t=>"scr-"+t.trim(),this.apply=n=>{const s=n.split(",").map(a.scrKeyToId);t.find("div.step-scr.applicable:first > .step-scr-nav-bar > button.nav-button.prev").show(),t.find("div.step-scr.applicable:last > .step-scr-nav-bar > button.nav-button.next").show(),t.find(".step-scr").removeClass("applicable active"),t.find(".step-scr").each(((t,n)=>{const e=$(n).attr("id");s.includes(e)&&$(n).addClass("applicable")})),t.find("div.step-scr.applicable:first > .step-scr-nav-bar > button.nav-button.prev").hide(),t.find("div.step-scr.applicable:last > .step-scr-nav-bar > button.nav-button.next").hide(),i&&t.find(".step-scr.applicable").addClass("active")},this.goToScr=n=>{let s=t.find("#"+a.scrKeyToId(n));i?(s.get(0).scrollIntoView(),s.trigger("activated")):(t.find("div.step-scr.active").removeClass("active"),s.addClass("active"),s.trigger("activated"))},this.forwardToNextScr=n=>{for(var s=n.next();!s.hasClass("applicable");)s=s.next();return t.get(0).scrollTop=0,n.removeClass("active"),s.addClass("active"),s.trigger("activated"),!0},this.hideNavBar=()=>(t.find(".step-scr-nav-bar").hide(),!0),this.showNavBar=()=>(t.find(".step-scr-nav-bar").show(),!0),this.enableSubmit=()=>{const n=t.find("div.step-scr-nav-bar button.nav-button.submit");return n.html("<i class='fa fa-send-o mr5'></i>"+roliaMsg.step_scr.submit),n.prop("disabled",!1),!0},this.disableSubmit=n=>{const s=t.find("div.step-scr-nav-bar button.nav-button.submit");return s.html(n),s.prop("disabled",!0),!0},this.hideNavButtonClass=n=>(t.find(`div.step-scr-nav-bar button.nav-button.${n}`).hide(),!0),this.showNavButtonClass=n=>(t.find(`div.step-scr-nav-bar button.nav-button.${n}`).show(),!0),this.hideNavButton=(n,s)=>{let e=sprintf("#scr-{0} div.step-scr-nav-bar button.nav-button.{1}",n,s);return t.find(e).hide(),!0},this.showNavButton=(n,s)=>{let e=sprintf("#scr-{0} div.step-scr-nav-bar button.nav-button.{1}",n,s);return t.find(e).show(),!0},this.showAllNavButtons=()=>(t.find("div.step-scr.applicable div.step-scr-nav-bar button.nav-button").show(),!0),this.init=()=>{if(l(),i)t.append("<div class='step-scr-nav-bar'>"),t.find("div.step-scr-nav-bar").append(v),t.css("padding-bottom","70px"),t.find("div.step-scr").css("padding-bottom","0"),t.find("div.step-scr").css("padding-top","1em");else{t.find("div.step-scr:not(.no-nav-btn)").append("<div class='step-scr-nav-bar'>"),t.find("div.step-scr:not(.nav-return-only):not(.nav-next-confirm) > .step-scr-nav-bar").append(o),t.find("div.step-scr.nav-submit > .step-scr-nav-bar").append(v),t.find("div.step-scr:not(.nav-return-only):not(.nav-next-confirm) > .step-scr-nav-bar").append(c);let n=t.find("div.step-scr.nav-next-confirm > .step-scr-nav-bar");n.append(o),n.append(p),t.find("div.step-scr.nav-return-only > .step-scr-nav-bar").append(d)}t.on("activated revisited",".step-scr",(function(t){var n=$(this).find("textarea"),s=$(this).find("input:text");n.length>0?n.first().focus():s.length>0&&s.first().focus()})),t.on("click",".nav-button.next",(async function(t){t.preventDefault();var s=$(this).closest("div.step-scr");await n(s)&&a.forwardToNextScr(s)})),t.on("click",".nav-button.prev",(function(n){n.preventDefault(),t.get(0).scrollTop=0;var s=$(this).closest("div.step-scr"),i=s.prev();if(0==i.length)return $(this).hide(),!1;for(;!i.hasClass("applicable");)i=i.prev();return i.is("div")?(s.removeClass("active"),i.addClass("active"),i.trigger("revisited"),!1):(e&&(window.location.href=e),!1)})),t.on("click",".nav-button.return",(function(n){n.preventDefault(),t.get(0).scrollTop=0;var s=$(this).closest("div.step-scr");let e=t.find("div.step-scr.nav-home");return s.removeClass("active"),e.addClass("active"),e.trigger("activated"),!1})),t.on("click",".nav-button.submit",(function(t){return t.preventDefault(),s(),!1})),t.on("keypress","input:text,input:checkbox,input:radio",(function(t){"13"==t.which&&t.preventDefault()}))};var l=()=>{$(" <style>\n.step-scr {\n\tposition: relative;\n\twidth: 100%;\n\tdisplay: none;\n\tpadding-bottom: 5em;\n}\n\n.step-scr.active {\n\tdisplay: block;\n}\n\n.step-scr-nav-bar {\n\tposition: fixed;\n\tbottom: 0px;\n\tleft: 50%;\n\ttransform: translateX(-50%);\n\tborder-radius: 5px;\n\tborder: 0px solid #888;\n\tbackground-color: rgba(255, 234, 0, 0.5);\n\tpadding: 10px;\n\tdisplay: flex;\n\twidth: 360px;\n\tmax-width: 98%;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n@media only screen and (min-width: 481px) {\n\t.step-scr-nav-bar {\n\t\tbottom: 10px;\n\t\t/*right: 3em;*/\n\t}\n}\n/*\n.nav-button:not(:focus-visible) {\n\toutline: none;\n  box-shadow: none;\n}\n\n.nav-button:not(:-moz-focusring) {\n\toutline: none;\n  box-shadow: none;\n}\n*/\n.nav-button:focus {\n\toutline: 5px solid blue;\n\tbox-shadow: 0 0 3px 7px blue;\n}\n\n\n.nav-button {\n\topacity: 1 !important;\n\tz-index: 11111;\n\tposition: relative;\n\tmargin-left: 0.5em;\n\tmargin-right: 0.5em;\n\tfont-weight: bold;\n}\n\n.nav-button:disabled {\n\tcolor: #ebf8e8;\n}\n</style> ").insertBefore(t)};this.init()};