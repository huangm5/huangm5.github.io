(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g=this||self;function l(a,b){a=a.split(".");var c=g;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var m,p;a:{for(var q=["CLOSURE_FLAGS"],t=g,u=0;u<q.length;u++)if(t=t[q[u]],null==t){p=null;break a}p=t}var v=p&&p[610401301];m=null!=v?v:!1;var w;const x=g.navigator;w=x?x.userAgentData||null:null;function y(a){return m?w?w.brands.some(({brand:b})=>b&&-1!=b.indexOf(a)):!1:!1}function z(a){var b;a:{if(b=g.navigator)if(b=b.userAgent)break a;b=""}return-1!=b.indexOf(a)};function A(){return m?!!w&&0<w.brands.length:!1}function B(){return A()?y("Chromium"):(z("Chrome")||z("CriOS"))&&!(A()?0:z("Edge"))||z("Silk")};!z("Android")||B();B();z("Safari")&&(B()||(A()?0:z("Coast"))||(A()?0:z("Opera"))||(A()?0:z("Edge"))||(A()?y("Microsoft Edge"):z("Edg/"))||A()&&y("Opera"));const C=Symbol();function D(a){const b=a[C]|0;1!==(b&1)&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),a[C]=b|1)}function E(){var a=[];a[C]|=1;return a}function F(a){a[C]|=16;return a}function aa(a,b){b[C]=(a|0)&-51}function G(a,b){b[C]=(a|18)&-41}function H(a){a=a>>10&1023;return 0===a?536870912:a};var I={};function J(a){return null!==a&&"object"===typeof a&&!Array.isArray(a)&&a.constructor===Object}var K;const L=[];L[C]=23;K=Object.freeze(L);function M(a,b,c,d){var e=H(b);if(c>=e){let f=b;if(b&128)e=a[a.length-1];else{if(null==d)return;e=a[e+((b>>8&1)-1)]={};f|=128}e[c]=d;f&=-513;f!==b&&(a[C]=f)}else a[c+((b>>8&1)-1)]=d,b&128&&(d=a[a.length-1],c in d&&delete d[c]),b&512&&(a[C]=b&-513)}
function N(a,b,c){var d=a.j,e=d[C];a:if(-1===c)var f=null;else{if(c>=H(e)){if(e&128){f=d[d.length-1][c];break a}}else if(f=c+((e>>8&1)-1),f<d.length){f=d[f];break a}f=void 0}var k=!1;if(null==f||"object"!==typeof f||(k=Array.isArray(f))||f.o!==I)if(k){let h=k=f[C]|0;0===h&&(h|=e&16);h|=e&2;h!==k&&(f[C]=h);b=new b(f)}else b=void 0;else b=f;b!==f&&null!=b&&M(d,e,c,b);d=b;if(null==d)return d;a=a.j;e=a[C];e&2||(f=d,f.j[C]&2?(b=O(f,!1),b.g=f,f=b.j,f[C]|=512):b=f,b!==d&&(d=b,M(a,e,c,d)));return d};let P;function Q(a,b){P=b;a=new a(b);P=void 0;return a};function ba(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "boolean":return a?1:0;case "object":if(a&&!Array.isArray(a)&&null!=a&&a instanceof Uint8Array){let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)}}return a};function ca(a,b){var c=a.j;const d=Array.prototype.slice.call(c);var e=c[C],f=d.length;c=e&128?d[f-1]:void 0;f+=c?-1:0;for(e=e&256?1:0;e<f;e++)d[e]=b(d[e]);if(c){e=d[e]={};for(const k in c)e[k]=b(c[k])}return Q(a.constructor,F(d))}function ea(a,b,c,d,e,f){if(null!=a){if(Array.isArray(a))a=e&&0==a.length&&(a[C]|0)&1?void 0:f&&(a[C]|0)&2?a:R(a,b,c,void 0!==d,e,f);else if(J(a)){const k={};for(let h in a)k[h]=ea(a[h],b,c,d,e,f);a=k}else a=b(a,d);return a}}
function R(a,b,c,d,e,f){const k=d||c?a[C]|0:0;d=d?!!(k&16):void 0;a=Array.prototype.slice.call(a);for(let h=0;h<a.length;h++)a[h]=ea(a[h],b,c,d,e,f);c&&c(k,a);return a}function fa(a){return a.o===I?a.toJSON():ba(a)};function ha(a,b,c=G){if(null!=a){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){const d=a[C]|0;if(d&2)return a;if(b&&!(d&32)&&(d&16||0===d))return a[C]=d|18,a;a=R(a,ha,d&4?G:c,!0,!1,!0);b=a[C]|0;b&4&&b&2&&Object.freeze(a);return a}a.o===I&&((a.j[C]|0)&2||(a=O(a,!0),b=a.j,b[C]|=18));return a}}function O(a,b){const c=a.j[C],d=b||c&2?G:aa,e=!!(c&16);return ca(a,f=>ha(f,e,d))};var S=class{constructor(a){null==a&&(a=P);P=void 0;if(null==a){var b=48;a=[]}else{if(!Array.isArray(a))throw Error();b=a[C]|32}this.j=a;var c=a,d=c.length;if(d){var e=d-1,f=c[e];if(J(f)){b|=128;d=(b>>8&1)-1;e-=d;if(1024<=e){e=1023+d;const k=c.length;for(let h=e;h<k;h++){const n=c[h];null!=n&&n!==f&&(f[h-d]=n)}c.length=e+1;c[e]=f;e=1023}b=b&-1047553|(e&1023)<<10}}a[C]=b}toJSON(){var a=R(this.j,fa,void 0,void 0,!1,!1);return ia(this,a,!0)}};S.prototype.o=I;
S.prototype.toString=function(){return ia(this,this.j,!1).toString()};
function ia(a,b,c){const d=a.constructor.m;var e=H((c?a.j:b)[C]);if(d){if(!c){b=Array.prototype.slice.call(b);var f;if(b.length&&J(f=b[b.length-1]))for(var k=0;k<d.length;k++)if(d[k]>=e){Object.assign(b[b.length-1]={},f);break}}e=b;c=!c;f=a.j[C];a=H(f);f=(f>>8&1)-1;let r;for(k=0;k<d.length;k++){var h=d[k];if(h<a){h+=f;var n=e[h];null==n?e[h]=c?K:E():c&&n!==K&&D(n)}else{if(!r){let da;e.length&&J(da=e[e.length-1])?r=da:e.push(r={})}n=r[h];null==r[h]?r[h]=c?K:E():c&&n!==K&&D(n)}}}return b};function ja(a){return b=>{if(null==b||""==b)b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error(void 0);b=Q(a,F(b))}return b}};var T=class extends S{};T.m=[17];var U=class extends S{};U.m=[27];var V=class extends S{};V.m=[8];var ka=ja(class extends S{});var la=class extends S{},ma=ja(la);la.m=[1,2,3];function W(a,b){a=a.getElementsByTagName("META");for(let c=0;c<a.length;++c)if(a[c].getAttribute("name")===b)return a[c].getAttribute("content")||"";return""};function X(a,b){a=a.body;var c={detail:void 0};let d;"function"===typeof window.CustomEvent?d=new CustomEvent(b,c):(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!!c.bubbles,!!c.cancelable,c.detail));a.dispatchEvent(d)}
var na=class{constructor(a){this.body=a;this.g=[];W(a,"sampling_mod");var b=W(a,"namespace");if(!b){b="ns-"+(0,Math.random)().toString(36).substr(2,5);a:{var c=a.getElementsByTagName("META");for(let d=0;d<c.length;++d)if("namespace"===c[d].getAttribute("name")&&c[d].getAttribute("index")===(0).toString()){c[d].setAttribute("content",b);break a}c=a.querySelector("#mys-meta");c||(c=document.createElement("div"),c.id="mys-meta",c.style.position="absolute",c.style.display="none",a.appendChild(c));a=document.createElement("META");
a.setAttribute("name","namespace");a.setAttribute("content",b);a.setAttribute("index",(0).toString());c.appendChild(a)}}if(!(0<this.g.length)){a=W(this.body,"environment");for(const d of a.split("|"))d&&this.g.push(d)}}addEventListener(a,b){this.body.addEventListener(a,b)}};function oa(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};function pa(a){if(1>=a.i.offsetWidth||1>=a.i.offsetHeight)return!1;a.g.remove();X(a.context,"spanReady");return!0}
var qa=class{constructor(a){this.context=a;this.l={A:!1,v:100};this.i=oa("SPAN");this.g=oa("DIV");this.i.style.fontSize="6px";this.i.textContent="go";this.g.style.position="absolute";this.g.style.top="100%";this.g.style.left="100%";this.g.style.width="1px";this.g.style.height="0";this.g.style.overflow="hidden";this.g.style.visibility="hidden";this.g.appendChild(this.i)}wait(){if(!this.l.A&&(X(this.context,"spanStart"),this.context.body.appendChild(this.g),!pa(this)))return new Promise(a=>{const b=
setInterval(()=>{pa(this)&&(clearInterval(b),a())},this.l.v)})}};var ra=class{constructor(a,b){this.context=a;this.g=N(b,U,1)||new U;N(b,V,12)||new V;N(this.g,T,10)||new T}};function sa(a){a.l.length=0;a.i=!0}function ta(a,b){a.g=!0;const c=()=>{a.i=!1;const d=a.l.shift();return void 0===d?(a.g=!1,Promise.resolve()):ta(a,d())};return b?b.then(c,()=>{if(a.i)return c();a.g=!1;return Promise.reject()}):c()}function ua(a,b){for(const c of b)a.l.push(c);if(!a.g)return ta(a)}var va=class{constructor(){this.i=this.g=!1;this.l=[]}};function wa(a){sa(a.l);return ua(a.l,[()=>{if(!a.s){var b=W(a.context.body,"render_config")||"[]";b=ka(b);b=new ra(a.context,b);a.s=b}b=(new qa(a.context)).wait();X(a.context,"browserStart");X(a.context,"browserStartEnd");a.g&=-31;a.g|=2;return b},()=>{X(a.context,"browserReady");X(a.context,"browserReadyEnd");a.g|=4;X(a.context,"overallReady")},()=>{X(a.context,"browserQuiet");X(a.context,"browserQuietEnd");a.g|=8}])}
function xa(a){ma(W(a.context.body,"engine_msg")||"[]");return wa(a)||Promise.resolve()}var Y=class{constructor(a,b){this.l=new va;this.g=0;this.context=new na(b)}u(){return this.g}i(){this.g&=-31;this.g|=1;let a=0;const b=this.context.body;b.addEventListener("browserRender",()=>{++a;if(1===a)X(this.context,"overallStart"),xa(this).then(()=>{X(this.context,"overallQuiet")});else{var c=b.clientHeight;b.clientWidth&&c&&xa(this)}})}};let Z;l("mys.engine.init",(a,b)=>{Z=new Y(a,b);Z.i()});l("mys.engine.stage",()=>{let a;return(null==(a=Z)?void 0:a.g)||0});l("mys.Engine",Y);l("mys.Engine.prototype.i",Y.prototype.i);l("mys.Engine.prototype.s",Y.prototype.u);}).call(this);
